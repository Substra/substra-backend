apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ template "substra.fullname" . }}-oidc
  labels:
  {{- include "substra.labels" . | nindent 4 }}
data:
  OIDC_ENABLED: {{ .Values.oidc.enabled | quote }}
  OIDC_USERS_APPEND_DOMAIN: {{ .Values.oidc.users.appendDomain | quote }}
  OIDC_USERS_DEFAULT_CHANNEL: {{ .Values.oidc.users.channel | quote }}
  OIDC_USERS_LOGIN_VALIDITY_DURATION: {{ .Values.oidc.users.loginValidityDuration | quote }}
  OIDC_RP_SIGN_ALGO: {{ .Values.oidc.signAlgo | quote }}
  OIDC_OP_URL: {{ .Values.oidc.provider.url | quote }}
  OIDC_OP_DISPLAY_NAME: {{ .Values.oidc.provider.displayName | quote }}
  OIDC_OP_AUTHORIZATION_ENDPOINT: {{ .Values.oidc.provider.endpoints.authorization | quote }}
  OIDC_OP_TOKEN_ENDPOINT: {{ .Values.oidc.provider.endpoints.token | quote }}
  OIDC_OP_USER_ENDPOINT: {{ .Values.oidc.provider.endpoints.user | quote }}
  OIDC_OP_JWKS_URI: {{ .Values.oidc.provider.jwksUri | quote }}
